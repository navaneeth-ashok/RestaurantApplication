@model RestaurantApplication.Models.ViewModel.OrderStatusFoodDetail

@{
    ViewBag.Title = "Details";
    Layout = "~/Views/Shared/_UserPage.cshtml";
}

<h2>Order Details</h2>

<div>
    <h4>OrderID : @Model.OrderIDClassDetails.OrderIDNumber</h4>
    <hr />
    <dl class="dl-horizontal">
        
        <dt>
            @Html.Encode("Ordered On")
        </dt>

        <dd>
            @Html.DisplayFor(model => model.OrderIDClassDetails.OrderIDTime)
        </dd>

        <dt>
            @Html.Encode("Order Status")
        </dt>

        <dd>
            @Html.DisplayFor(model => model.OrderIDClassDetails.Status)
        </dd>

        @*<dt>
                @Html.DisplayNameFor(model => model.TotalOrderAmount)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.TotalOrderAmount)
            </dd>*@
        @{ foreach (var item in Model.OrderItemDetails)
            {
                System.Diagnostics.Debug.WriteLine(item.Food.FoodName + " " + item.FoodPrice + " " + item.Quantity + " " + item.FoodPrice * item.Quantity);
            }
        }



    </dl>
    <table class="table orderBar orderPreview table-borderless">
        <thead>
            <tr>
                <th>
                    @Html.Encode("Item")
                </th>
                <th>
                    @Html.Encode("Price")
                </th>
                <th>
                    @Html.Encode("Quantity")
                </th>
                <th>
                    @Html.Encode("Price")
                </th>
            </tr>
        </thead>

        @foreach (var item in Model.OrderItemDetails)
        {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.Food.FoodName)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.SoldPrice)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Quantity)
                </td>
                <td>
                    @Html.Encode(item.SoldPrice * item.Quantity)
                </td>
            </tr>
        }
        <tfoot>
            <tr>
                <td></td>
                <td></td>
                <td>@Html.Encode("Total")</td>
                <td>@Html.DisplayFor(model => model.TotalOrderAmount)</td>
            </tr>

        </tfoot>

    </table>
    @*@Html.DisplayNameFor(model => model.TotalOrderAmount)
        @Html.DisplayFor(model => model.TotalOrderAmount)*@
</div>
<div class="orderMore">
    @Html.ActionLink("Order More", "List", new { controller = "Food" }, new { @class= "btn btn-success" })
</div>

<div>
    <form method="POST" action="/Payment/Index" id="payButton">
        <input type="hidden" name="OrderID" value="@Model.OrderIDClassDetails.OrderIDNumber">
        <input type="submit" class="btn btn-warning" value="Pay"/>
    </form>
</div>
